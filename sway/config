# Read `man 5 sway` for a complete reference.

### Variables

# Logo key. Use Mod1 for Alt.
set $mod Mod4

# Home row direction keys, like vim
set $left h
set $down j
set $up k
set $right l

set $ws10 10: music
set $ws1 1
set $ws2 2: www
set $ws3 3
set $ws4 4
set $ws5 5
set $ws6 6
set $ws7 7
set $ws8 8
set $ws9 9

# set $term alacritty
# set $float_arg -t force_float
# set $size_arg -d 112 30

set $term konsole
set $float_arg -p tabtitle=force_float
set $size_arg -p TerminalRows=29 -p TerminalColumns=112

set $term_cmd $term
set $term_float_cmd $term $float_arg $size_arg

set $lock_cmd swaylock

set $laptop eDP-1

# Your preferred application launcher
# Note: it's recommended that you pass the final command to sway
# set $all_menu wofi --show run --term="$term_float_cmd"
# set $menu wofi --show drun --term="$term_float_cmd"
set $all_menu rofi -show run -terminal "$term_float_cmd"
set $menu rofi -show drun -terminal "$term_float_cmd"

### Output configuration

output $laptop {
    background /usr/share/backgrounds/sway/Sway_Wallpaper_Blue_1920x1080.png fill
    resolution 1920x1080
    position 2560 0
}

output "Philips Consumer Electronics Company PHL 272B8Q UK01948018974" {
    background /usr/share/backgrounds/sway/Sway_Wallpaper_Blue_1920x1080.png fill
    resolution 2560x1440
    position 0 0
}

bindswitch --reload --locked lid:on output $laptop disable
bindswitch --reload --locked lid:off output $laptop enable

### Idle configuration
exec swayidle -w \
         timeout 300 'swaymsg "output * dpms off"' \
         resume 'swaymsg "output * dpms on"' \
         before-sleep '$lock_cmd'

# With .Xdefaults this shouldn't be necessary anymore
# exec xrdb -merge $HOME/.Xresources

exec swaymsg -- exec autocutsel -fork
exec swaymsg -- exec mako
# exec_always "pkill kanshi; kanshi"

exec_always {
    gsettings set org.gnome.desktop.interface gtk-theme 'Breeze'
    gsettings set org.gnome.desktop.interface cursor-theme 'breeze_cursors'
    gsettings set org.gnome.desktop.interface icon-theme 'Papirus'
}

seat seat0 xcursor_theme breeze_cursors 24

### Input configuration
#
# Read `man 5 sway-input` for more information about this section.
input type:touchpad {
    tap enabled
    middle_emulation enabled
}

input type:keyboard {
    repeat_delay 250
    repeat_rate 40
    xkb_options ctrl:nocaps,grp:ctrls_toggle
    xkb_layout us,ro(std)
}

### Key bindings
#
# Basics:
#

# start a terminal
bindsym $mod+Return exec swaymsg -- exec $term $size_arg

# kill focused window
bindsym $mod+q kill

# start your launcher
bindsym $mod+p exec $menu
bindsym $mod+Shift+p exec $all_menu

# Drag floating windows by holding down $mod and left mouse button.
# Resize them with right mouse button + $mod.
# Despite the name, also works for non-floating windows.
# Change normal to inverse to use left mouse button for resizing and right
# mouse button for dragging.
floating_modifier $mod normal

bindsym $mod+Shift+c reload
# bindsym $mod+Shift+r exec "pkill kanshi; kanshi"

set $mode_system System: (l) lock, (e) logout, (s) suspend, (r) reboot, (p) shutdown, (R) UEFI
mode "$mode_system" {
    bindsym l exec $lock_cmd, mode "default"
    bindsym e exit
    bindsym s exec systemctl suspend, mode "default"
    bindsym r exec systemctl reboot, mode "default"
    bindsym p exec systemctl poweroff -i, mode "default"
    bindsym Shift+r exec systemctl reboot, mode "default"

    # return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# bindsym $mod+Shift+e mode "$mode_system"
bindsym $mod+Shift+e exec nwgbar

#
# Moving around:
#
# Move your focus around
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# or use $mod+[up|down|left|right]
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# _move_ the focused window with the same, but add Shift
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right
# ditto, with arrow keys
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

bindsym $mod+g focus next
bindsym $mod+Shift+g focus prev

#
# Workspaces:
#

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

#
# Layout stuff:
#

# You can "split" the current object of your focus with
# $mod+b or $mod+v, for horizontal and vertical splits
# respectively.
bindsym $mod+b border toggle

# Switch the current container between different layout styles
bindsym $mod+bracketright layout stacking
bindsym $mod+bracketleft layout tabbed
bindsym $mod+backslash layout toggle split

# Make the current focus fullscreen
bindsym $mod+f fullscreen

# Toggle the current focus between tiling and floating mode
bindsym $mod+space floating toggle

# Swap focus between the tiling area and the floating area
bindsym $mod+Shift+space focus mode_toggle

# move focus to the parent container
bindsym $mod+a focus parent

# move window to the right monitor (wraps around), and focus it
bindsym $mod+x move container to output right; focus output right

# move whole workspace to the right monitor (wraps around), and focus it
bindsym $mod+Shift+x move workspace to output right

bindsym $mod+o focus output right

#
# Scratchpad:
# Sway has a "scratchpad", which is a bag of holding for windows.
# You can send windows there and get them back later.
#

# Move the currently focused window to the scratchpad
bindsym $mod+Shift+minus move scratchpad

# Show the next scratchpad window or hide the focused scratchpad window.
# If there are multiple scratchpad windows, this command cycles through them.
bindsym $mod+minus scratchpad show

#
# Resizing containers:
#
mode "resize" {
    # left will shrink the containers width
    # right will grow the containers width
    # up will shrink the containers height
    # down will grow the containers height
    bindsym $left   resize shrink width 10px
    bindsym $down   resize grow height 10px
    bindsym $up     resize shrink height 10px
    bindsym $right  resize grow width 10px

    # ditto, with arrow keys
    bindsym Left    resize shrink width 10px
    bindsym Down    resize grow height 10px
    bindsym Up      resize shrink height 10px
    bindsym Right   resize grow width 10px

    # return to default mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

#
# Misc bindings:
#
bindsym $mod+w [title=".*Firefox Nightly$"] focus
bindsym $mod+i exec emacs
bindsym $mod+u [urgent=latest] focus

bindsym $mod+e exec dolphin

bindsym --locked $mod+period     exec playerctl next
bindsym --locked $mod+comma      exec playerctl previous
bindsym --locked $mod+m          exec playerctl play-pause
bindsym --locked XF86AudioNext   exec playerctl next
bindsym --locked XF86AudioPrev   exec playerctl previous
bindsym --locked XF86AudioPlay   exec playerctl play-pause

bindsym --locked XF86AudioRaiseVolume    exec pactl set-sink-volume @DEFAULT_SINK@ +3%
bindsym --locked XF86AudioLowerVolume    exec pactl set-sink-volume @DEFAULT_SINK@ -3%
bindsym --locked XF86AudioMute           exec pactl set-sink-mute @DEFAULT_SINK@ toggle
bindsym --locked XF86AudioMicMute        exec pactl set-source-mute @DEFAULT_SOURCE@ toggle
bindsym --locked $mod+Ctrl+Up            exec pactl set-sink-volume @DEFAULT_SINK@ +3%
bindsym --locked $mod+Ctrl+Down          exec pactl set-sink-volume @DEFAULT_SINK@ -3%

bindsym --locked XF86MonBrightnessUp     exec sudo brightnessctl set 10%+
bindsym --locked XF86MonBrightnessDown   exec sudo brightnessctl set 10%-

bindsym $mod+Mod1+l exec $lock_cmd

bindsym Print exec grim -t png ~/Pictures/Screenshots/$(date +%Y-%m-%d_%H-%M-%S).png

# F12 and F12+Fn on microsoft keyboard
bindsym $mod+Ctrl+XF86TouchpadOff       exec $term_float_cmd
bindsym F12                             exec $term_float_cmd

bindsym $mod+n          exec makoctl dismiss
bindsym $mod+Shift+n    exec makoctl dismiss -a

#
# Status Bar:
#
# Read `man 5 sway-bar` for more information about this section.
bar {
    position top

    mode hide
    # hidden_state hide
    modifier $mod

    swaybar_command waybar

    colors {
        statusline #ffffff
        background #323232
        inactive_workspace #32323200 #32323200 #5c5c5c
    }
}

#
# Windows:
#
for_window [window_role="pop-up"]       floating enable
for_window [window_role="About"]        floating enable
for_window [window_role="task_dialog"]  floating enable
for_window [window_type="dialog"]       floating enable
for_window [window_type="splash"]       floating enable

for_window [app_id="org.kde.kcalc"]     floating enable
for_window [app_id="pavucontrol"]       floating enable
for_window [app_id="mpv"]               floating enable
for_window [app_id="blueman-manager"]   floating enable
for_window [app_id="virt-manager"]      floating enable

for_window [app_id="firefox" title="^Picture-in-Picture$"]          floating enable, sticky enable
for_window [app_id="firefox-trunk" title="^Picture-in-Picture$"]    floating enable, sticky enable


for_window [class="^zoom$"]         floating enable
for_window [class="^Slack$"]        floating enable
for_window [class="^force_float$"]  floating enable
for_window [class="^Vncviewer$"]    floating enable

for_window [title="^force_float"]   floating enable

for_window [title=".*"] title_format %title

#
# Render stuff (still playing with it)
#
# output * max_render_time 5
# for_window [app_id="^alacritty$"] max_render_time 1

#
# Colors:
#

client.focused  #4c7899 #494844 #ffffff #2E9EF4 #f07746
font pango: Iosevka Extended 10

#
# Misc:
#
smart_gaps on
smart_borders on

default_border pixel 3
popup_during_fullscreen smart
focus_wrapping yes
workspace_auto_back_and_forth yes
force_display_urgency_hint 500 ms
focus_on_window_activation smart
focus_follows_mouse no
show_marks yes

titlebar_padding 3 1
default_border pixel 2
hide_edge_borders smart

include /etc/sway/config.d/*
include ~/.config/sway/config.d/*
